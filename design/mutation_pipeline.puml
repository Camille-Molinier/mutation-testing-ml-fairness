@startuml
'https://plantuml.com/sequence-diagram

autonumber

participant client
participant FairnessMutationTestingPipeline
participant MutantGenerator
participant Operator1 #7EE8FA
participant Operator2 #7EE8FA
participant SKLearnModel #FE5F55
participant Metric #3C896D

client -> FairnessMutationTestingPipeline : test(model, dataframe, protected_attributes, metrics, operators)
FairnessMutationTestingPipeline -> MutantGenerator : generate_mutant_dataset(dataframe, protected_attributes)
MutantGenerator ->  Operator1 : compute_mutation(dataframe, protected_attributes)
MutantGenerator <-- Operator1 : muted_dataframe
MutantGenerator ->  Operator2 : compute_mutation(dataframe, protected_attributes)
MutantGenerator <-- Operator2 : muted_dataframe
FairnessMutationTestingPipeline <-- MutantGenerator : dataframes


FairnessMutationTestingPipeline ->  SKLearnModel : predict(dataframes)
FairnessMutationTestingPipeline <-- SKLearnModel : predictions

FairnessMutationTestingPipeline -> Metric : compute_metric(predictions, y_real)
FairnessMutationTestingPipeline <-- Metric : results

FairnessMutationTestingPipeline --> client : final_results


@enduml